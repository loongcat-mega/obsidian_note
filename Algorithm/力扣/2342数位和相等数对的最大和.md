#### 未优化版本
```c++
int hash_digitssum(const vector<int>&nums)
{
	multimap<int, int>m;
	for (int i = 0; i < nums.size(); i++)
		m.insert(make_pair(DigitsSum(nums[i]), i));
	int max = -1;
	multimap<int, int>::iterator it = m.begin();
	for (; it != m.end();)
	{
		if (m.count(it->first) > 1)
		{
			int value = it->first;
			int Count = m.count(it->first);
			vector<int>v_index(Count);
			for (int i = 0; i < Count;m.erase(m.find(value)))
				v_index[i++] = (nums[it++->second]);
			sort(v_index.begin(), v_index.end());//默认升序
			if (v_index[Count - 1] + v_index[Count - 2] > max)
				max = v_index[Count - 1] + v_index[Count - 2];
		}
		else
			it++;
	}
	return max;
}
```
#### 优化版本
```c++
int hash_digitssum(const vector<int>& nums)
{
	pair<int, int> hashMap[82];
	for (auto&& num : nums) {
		// 求数位和
		int digitSum = 0;
		for (int i = num; i; i /= 10)
			digitSum += i % 10;
		// 相同数位和，只记录最大的两个数
		auto&& [fst, snd] = hashMap[digitSum] ;	
		if(num>snd)
			snd = num; 
		if (snd > fst) 
			swap(fst, snd); 
	}
	// 求最大值
	int ans = -1;
	for (auto&& [fst, snd] : hashMap)
		if (fst && snd)
			ans = max(ans, fst + snd);
	return ans;
}
```